<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Care Kits Project</title>
    <link rel="stylesheet" href="https://unpkg.com/@sakun/system.css" />
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="new.css">
</head>
<body class="">
    <p style="text-align: center; margin-top: 20px;">
        <a href="/" class="btn" style="text-decoration: underline;">Back to Home</a>
    </p>
    <div class="wrapper">
        <div class="header">
            <div class="window">
                <div class="title-bar">
                    <h1 class="title">Care Kits Project</h1>
                </div>
                <div class="separator"></div>
                <div class="window-pane" style="overflow: hidden;">
                    <div class="padding">

                        <!-- menu bar -->
                        <ul role="menu-bar" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 1em; margin-bottom: 2em; list-style: none; padding: 0;">
                          <li role="menu-item" tabindex="0" aria-haspopup="false"><a href="#kits-delivered">Delivery Report</a></li>
                          <li role="menu-item" tabindex="0" aria-haspopup="false"><a href="#about">About</a></li>
                          <li role="menu-item" tabindex="0" aria-haspopup="false"><a href="#shopping-list">Shopping List</a></li>
                          <li role="menu-item" tabindex="0" aria-haspopup="false"><a href="#donors">Donors</a></li>
                          <li role="menu-item" tabindex="0" aria-haspopup="false"><a href="#gifting-rules">Gifting Rules</a></li>
                          <li role="menu-item" tabindex="0" aria-haspopup="false"><a href="#faq">FAQ</a></li>
                        </ul>

                        
                        <!-- delivery report section -->
                        <section id="kits-delivered" style="margin-bottom: 4em;">
                          <h2 style="text-align: center; margin-bottom: 0.25em;">Delivery Report</h2>
                          <p style="text-align: center; font-size: 0.85em; color: var(--text); margin-top: 0; margin-bottom: 2em;"><em>as of 04/28/2525</em></p>
                        
                          <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 8em; margin-top: 2em;">
                            
                            <div style="display: flex; flex-direction: column; align-items: center;">
                              <div id="kitsCount" style="font-size: 4em; font-weight: bold; color: var(--headers);">0</div>
                              <div style="margin-top: 0.75em; font-size: 2em; font-weight: bold; color: var(--text);">Kits Delivered</div>
                            </div>
                            
                            <div style="display: flex; flex-direction: column; align-items: center;">
                              <div id="kitsValue" style="font-size: 4em; font-weight: bold; color: var(--headers);">$0</div>
                              <div style="margin-top: 0.75em; font-size: 2em; font-weight: bold; color: var(--text);">Total Value Delivered</div>
                            </div>
                        
                          </div>
                        </section>
                        <!-- about section -->
                        <section id="about">
                            <h2>About</h2>

                            <p>
                                Care Kits are small bundles of essential supplies I personally assemble and distribute to individuals experiencing homelessness in Portland, Oregon
                            </p>
                            <p>
                                Each kit costs approximately $20 to assemble (about $10 of essential goods and $10 in a food gift card)
                            </p>
                            <p>
                                These bags create small moments of dignity, connection, and care—offered freely, humbly, and without expectation
                            </p>
    
                            <!-- images -->
    
                            <div style="display: flex; flex-wrap: wrap; gap: 1em; justify-content: center; align-items: center; margin-top: 2em;">
    
                              <div style="flex: 1 1 300px; text-align: center;">
                                <img src="/carekit_contents.jpg" alt="Care Kit Contents Spread Out" style="max-width: 100%; border-radius: 8px; box-shadow: 0px 4px 8px rgba(0,0,0,0.2);">
                                <p style="margin-top: 0.5em;">Care Kit items prepared for assembly</p>
                              </div>
                            
                              <div style="flex: 1 1 300px; text-align: center;">
                                <img src="/packaged_carekit.jpg" alt="Completed Care Kit Packaged" style="max-width: 100%; border-radius: 8px; box-shadow: 0px 4px 8px rgba(0,0,0,0.2);">
                                <p style="margin-top: 0.5em;">Completed Care Kit ready for gifting</p>
                              </div>
                            
                            </div>
                        </section>

                        <!-- shopping list -->
                        <section id="shopping-list">
                          <h2>Shopping List</h2>
                          <p>If you'd like to create your own, here's a list of the items I use:</p>
                        
                          <!-- preview version -->
                          <div id="shopping-preview">
                            <ul style="list-style: disc; margin-left: 2em;">
                              <li>Beef Jerky — Country Archer Grass-Fed Minis</li>
                              <li>Food Gift Card — Meal Gift Card</li>
                            </ul>
                            <p style="text-align: center; margin-top: 1em;">
                              <button onclick="showFullList()" style="padding: 0.5em 1em; font-size: 1em;">Show Full List</button>
                            </p>
                          </div>
                        
                          <!-- full version, hidden initially -->
                          <div id="full-shopping-list" style="display: none; margin-top: 2em;">
                            <div id="data-table"></div>
                          </div>
                        </section>

                        <!-- donors -->
                        <section id="donors">
                            <h2>Donors</h2>
                        </section>

                        <!-- gifting rules -->
                        <section id="gifting-rules">
                            <h2>Gifting Guidelines</h2>
                        </section>

                        <!-- FAQ -->
                        <section id="faq">
                            <h2>FAQ</h2>
                        </section>

                        <br><br>
                        <a href="/" class="btn">Back to Home</a>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
      const sheetID = '1x6h1-zQZ1AAHRuHviIVYORp8A63GLGGQ4mHiD2_r-TE';
      const sheetName = 'data source'; // your tab name
      const query = encodeURIComponent('SELECT *');
      const url = `https://docs.google.com/spreadsheets/d/${sheetID}/gviz/tq?sheet=${sheetName}&tq=${query}`;
    
      fetch(url)
        .then(res => res.text())
        .then(rep => {
          const jsonData = JSON.parse(rep.substr(47).slice(0, -2));
          const table = document.createElement('table');
    
          table.innerHTML = `
            <thead>
              <tr>
                <th>Item</th>
                <th>Description</th>
                <th>Total Cost</th>
                <th>Count in Pack</th>
                <th>Cost per Item</th>
                <th>Brand</th>
                <th>Store</th>
              </tr>
            </thead>
            <tbody>
              ${jsonData.table.rows.map(row => {
                if (!row.c || !row.c[0] || !row.c[0].v) return ''; // Skip empty rows
    
                // Prepare fields
                const itemName = row.c[0]?.v || '';
                const description = row.c[1]?.v || '';
                const url = row.c[2]?.v || '';
                const totalBulkCost = row.c[3]?.v || '';
                const countInPack = row.c[4]?.v || '';
                let costPerItem = row.c[5]?.v || '';
                const brand = row.c[6]?.v || '';
                const store = row.c[7]?.v || '';
    
                // Round cost per item to 2 decimals if it's a number
                if (typeof costPerItem === 'number') {
                  costPerItem = costPerItem.toFixed(2);
                }
    
                return `
                  <tr>
                    <td>${itemName}</td>
                    <td>${url ? `<a href="${url}" target="_blank">${description}</a>` : description}</td>
                    <td>$${totalBulkCost}</td>
                    <td>${countInPack}</td>
                    <td>$${costPerItem}</td>
                    <td>${brand}</td>
                    <td>${store}</td>
                  </tr>
                `;
              }).join('')}
            </tbody>
          `;
    
          document.getElementById('data-table').appendChild(table);
        })
        .catch(err => console.log(err));
    </script>
    <script src="https://inorganik.github.io/countUp.js/dist/countUp.umd.js"></script>

    <script>
    window.onload = function() {
      const kitsDelivered = 3;
      const kitsValue = 51.36;
    
      const kitsCounter = new countUp.CountUp('kitsCount', kitsDelivered);
      const valueCounter = new countUp.CountUp('kitsValue', kitsValue, { prefix: '$', decimalPlaces: 2 });
    
      if (!kitsCounter.error) { kitsCounter.start(); } else { console.error(kitsCounter.error); }
      if (!valueCounter.error) { valueCounter.start(); } else { console.error(valueCounter.error); }
    }
    </script>
    <script>
    function showFullList() {
      document.getElementById('shopping-preview').style.display = 'none';
      document.getElementById('full-shopping-list').style.display = 'block';
    }
    </script>


</body>
</html>
